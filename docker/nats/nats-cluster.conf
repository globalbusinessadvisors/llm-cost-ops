# NATS Cluster configuration for LLM Cost Ops - Production
# Version: 1.0.0

server_name: $NATS_SERVER_NAME

# Network
host: 0.0.0.0
port: 4222

# HTTP monitoring
http_port: 8222

# Clustering
cluster {
  name: llm-cost-ops-prod
  listen: 0.0.0.0:6222

  # Routes are passed via command line
  # routes: [
  #   nats-route://nats-1:6222
  #   nats-route://nats-2:6222
  #   nats-route://nats-3:6222
  # ]
}

# Logging
debug: false
trace: false
logtime: true
log_file: "/dev/stdout"

# Limits (production values)
max_connections: 10000
max_control_line: 4096
max_payload: 1048576
max_pending: 67108864
write_deadline: "10s"

# Ping interval
ping_interval: "2m"
ping_max: 3

# JetStream (persistent streaming)
jetstream {
  store_dir: /data/jetstream
  max_memory_store: 2GB
  max_file_store: 50GB
}

# Authorization
# authorization {
#   user: $NATS_USER
#   password: $NATS_PASSWORD
# }
