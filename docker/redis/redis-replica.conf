# Redis Replica configuration for LLM Cost Ops - Production
# Version: 1.0.0

bind 0.0.0.0
protected-mode yes
port 6379

daemonize no
loglevel notice
databases 16

# Replication
replica-serve-stale-data yes
replica-read-only yes
repl-diskless-sync no
repl-disable-tcp-nodelay no
replica-priority 100

# Security
# masterauth ${REDIS_MASTER_PASSWORD}
# requirepass ${REDIS_PASSWORD}

# Memory
maxmemory 512mb
maxmemory-policy allkeys-lru

# Persistence (less aggressive on replica)
save 900 1
save 300 10
appendonly yes
appendfsync everysec
